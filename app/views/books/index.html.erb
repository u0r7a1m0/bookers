<main>
  <div class="flash-message"><%= flash[:destroy] %></div>
  <div class="main-top">
    <h1 class="index-title">Books</h1>
<!--一覧画面-->
    <div class="books-wrap">

      <table>
        <tr>
          <th>Title</th>
          <th>Body</th>
        </tr>
        <% @books.each do |book|%>
        <tr>
          <td class="table-book-title"><%=book.title%></td>
          <td class="table-book-body"><%=book.body%></td>
          
          <td class="table-botton"><%= link_to 'show',book_path(book.id) %></td>
          <td class="table-botton"><%= link_to 'edit',edit_book_path(book.id) %></td>
          <td class="table-botton"><%= link_to 'Destroy',book_path(book.id), method: :delete, "data-confirm" => "Are you sure?" %></td>
        </tr>
        <%end%>
      </table>
    </div>
  </div>
  

<!--投稿画面-->
  <div class="main-bottom">
    <!--投稿フォーム-->
    <h2>New book</h2>
        <!--エラー↓-->
      <div class="error-all">
        <% if @book.errors.any? %>
        <!--エラータイトル（件数）-->
        <h3><%= @book.errors.count %>error prohibited this book from being saved:</h3>
        <div class="error-area">
          <!--エラーメッセージ-->
          <ul class="error-square">
            <% @book.errors.full_messages.each do |message| %>
            <li><%= message %></li>
            <% end %>
          </ul>
          <% end %>
        </div>
      </div>
        <!--エラーここまで-->
        <!--新規投稿フォームここから-->
      <div class="new-post">
      <%= form_with model:@book do |f| %>
        <p>Title</p>
        <%=f.text_field:title %>
    
        <p>Body</p>
        <%=f.text_area:body %>
        
        <p><%=f.submit 'Create Book',class:"new-post-botton" %></p>
        <% end %>
      </div>
    </div>
  </div>
</main>


